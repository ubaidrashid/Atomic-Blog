{"ast":null,"code":"import{useContext,useEffect,useState}from\"react\";import{PostContextProc,createRandomPost,PostContext}from\"./PostContextProc\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isFakeDark,setIsFakeDark]=useState(false);useEffect(function(){document.documentElement.classList.toggle(\"fake-dark-mode\");},[isFakeDark]);return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsFakeDark(isFakeDark=>!isFakeDark),className:\"btn-fake-dark-mode\",children:isFakeDark?\"‚òÄÔ∏è\":\"üåô\"}),/*#__PURE__*/_jsxs(PostContextProc,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Main,{}),/*#__PURE__*/_jsx(Archive,{}),/*#__PURE__*/_jsx(Footer,{})]})]});}function Header(){const{onClearPosts}=useContext(PostContext);return/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u269B\\uFE0F\"}),\"The Atomic Blog\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Results,{}),/*#__PURE__*/_jsx(SearchPosts,{}),/*#__PURE__*/_jsx(\"button\",{onClick:onClearPosts,children:\"Clear posts\"})]})]});}function SearchPosts(){const{searchQuery,setSearchQuery}=useContext(PostContext);return/*#__PURE__*/_jsx(\"input\",{value:searchQuery,onChange:e=>setSearchQuery(e.target.value),placeholder:\"Search posts...\"});}function Results(){const{posts}=useContext(PostContext);return/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDE80 \",posts.length,\" atomic posts found\"]});}function Main(){return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(FormAddPost,{}),/*#__PURE__*/_jsx(Posts,{})]});}function Posts(_ref){let{posts}=_ref;return/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(List,{})});}function FormAddPost(){const{onAddPost}=useContext(PostContext);const[title,setTitle]=useState(\"\");const[body,setBody]=useState(\"\");const handleSubmit=function(e){e.preventDefault();if(!body||!title)return;onAddPost({title,body});setTitle(\"\");setBody(\"\");};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Post title\"}),/*#__PURE__*/_jsx(\"textarea\",{value:body,onChange:e=>setBody(e.target.value),placeholder:\"Post body\"}),/*#__PURE__*/_jsx(\"button\",{children:\"Add post\"})]});}function List(){const{posts}=useContext(PostContext);return/*#__PURE__*/_jsx(\"ul\",{children:posts.map((post,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:post.title}),/*#__PURE__*/_jsx(\"p\",{children:post.body})]},i))});}function Archive(){const{onAddPost}=useContext(PostContext);const[posts]=useState(()=>Array.from({length:10000},()=>createRandomPost()));const[showArchive,setShowArchive]=useState(false);return/*#__PURE__*/_jsxs(\"aside\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Post archive\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowArchive(s=>!s),children:showArchive?\"Hide archive posts\":\"Show archive posts\"}),showArchive&&/*#__PURE__*/_jsx(\"ul\",{children:posts.map((post,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[post.title,\":\"]}),\" \",post.body]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onAddPost(post),children:\"Add as new post\"})]},i))})]});}function Footer(){return/*#__PURE__*/_jsx(\"footer\",{children:\"\\xA9 by The Atomic Blog \\u270C\\uFE0F\"});}export default App;","map":{"version":3,"names":["useContext","useEffect","useState","PostContextProc","createRandomPost","PostContext","jsx","_jsx","jsxs","_jsxs","App","isFakeDark","setIsFakeDark","document","documentElement","classList","toggle","children","onClick","className","Header","Main","Archive","Footer","onClearPosts","Results","SearchPosts","searchQuery","setSearchQuery","value","onChange","e","target","placeholder","posts","length","FormAddPost","Posts","_ref","List","onAddPost","title","setTitle","body","setBody","handleSubmit","preventDefault","onSubmit","map","post","i","Array","from","showArchive","setShowArchive","s"],"sources":["E:/documents/AtomicBlog-by_oss/atomic-blo/src/App.js"],"sourcesContent":["import {useContext, useEffect, useState } from \"react\";\r\nimport {PostContextProc , createRandomPost , PostContext} from \"./PostContextProc\"\r\n\r\n\r\nfunction App() {\r\n  \r\n  const [isFakeDark, setIsFakeDark] = useState(false);\r\n  useEffect(\r\n    function () {\r\n      document.documentElement.classList.toggle(\"fake-dark-mode\");\r\n    },\r\n    [isFakeDark]\r\n  );\r\n\r\n  return (\r\n    <section>\r\n      <button\r\n        onClick={() => setIsFakeDark((isFakeDark) => !isFakeDark)}\r\n        className=\"btn-fake-dark-mode\"\r\n      >\r\n        {isFakeDark ? \"‚òÄÔ∏è\" : \"üåô\"}\r\n      </button>\r\n\r\n\r\n      <PostContextProc>\r\n        <Header />\r\n        <Main />\r\n        <Archive />\r\n        <Footer />\r\n      </PostContextProc>\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction Header() {\r\n  const { onClearPosts } = useContext(PostContext)\r\n  return (\r\n    <header>\r\n      <h1>\r\n        <span>‚öõÔ∏è</span>The Atomic Blog\r\n      </h1>\r\n      <div>\r\n        <Results />\r\n        <SearchPosts\r\n\r\n        />\r\n        <button onClick={onClearPosts}>Clear posts</button>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction SearchPosts() {\r\n  const { searchQuery, setSearchQuery } = useContext(PostContext)\r\n  return (\r\n    <input\r\n      value={searchQuery}\r\n      onChange={(e) => setSearchQuery(e.target.value)}\r\n      placeholder=\"Search posts...\"\r\n    />\r\n  );\r\n}\r\n\r\nfunction Results() {\r\n  const { posts } = useContext(PostContext)\r\n  return <p>üöÄ {posts.length} atomic posts found</p>;\r\n}\r\n\r\nfunction Main() {\r\n  return (\r\n    <main>\r\n      <FormAddPost />\r\n      <Posts />\r\n    </main>\r\n  );\r\n}\r\n\r\nfunction Posts({ posts }) {\r\n  return (\r\n    <section>\r\n      <List />\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction FormAddPost() {\r\n  const { onAddPost } = useContext(PostContext)\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n\r\n  const handleSubmit = function (e) {\r\n    e.preventDefault();\r\n    if (!body || !title) return;\r\n    onAddPost({ title, body });\r\n    setTitle(\"\");\r\n    setBody(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n        placeholder=\"Post title\"\r\n      />\r\n      <textarea\r\n        value={body}\r\n        onChange={(e) => setBody(e.target.value)}\r\n        placeholder=\"Post body\"\r\n      />\r\n      <button>Add post</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nfunction List() {\r\n  const { posts } = useContext(PostContext)\r\n\r\n  return (\r\n    <ul>\r\n      {posts.map((post, i) => (\r\n        <li key={i}>\r\n          <h3>{post.title}</h3>\r\n          <p>{post.body}</p>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nfunction Archive() {\r\n  const { onAddPost } = useContext(PostContext)\r\n  const [posts] = useState(() =>\r\n\r\n    Array.from({ length: 10000 }, () => createRandomPost())\r\n  );\r\n\r\n  const [showArchive, setShowArchive] = useState(false);\r\n\r\n  return (\r\n    <aside>\r\n      <h2>Post archive</h2>\r\n      <button onClick={() => setShowArchive((s) => !s)}>\r\n        {showArchive ? \"Hide archive posts\" : \"Show archive posts\"}\r\n      </button>\r\n\r\n      {showArchive && (\r\n        <ul>\r\n          {posts.map((post, i) => (\r\n            <li key={i}>\r\n              <p>\r\n                <strong>{post.title}:</strong> {post.body}\r\n              </p>\r\n              <button onClick={() => onAddPost(post)}>Add as new post</button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </aside>\r\n  );\r\n}\r\n\r\nfunction Footer() {\r\n  return <footer>&copy; by The Atomic Blog ‚úåÔ∏è</footer>;\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}